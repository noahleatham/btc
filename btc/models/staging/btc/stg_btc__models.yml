version: 2

models:
  - name: stg_btc__btc
    description: Staging model for Bitcoin transaction data
    columns:
      - name: hash_key
        description: Unique identifier for the transaction
        tests:
          - not_null
      - name: block_hash
        description: Hash of the block containing this transaction
        tests:
          - not_null
      - name: block_number
        description: The block number
        tests:
          - not_null
      - name: block_timestamp
        description: Timestamp when the block was mined
        tests:
          - not_null
      - name: fee
        description: Transaction fee in BTC
      - name: input_value
        description: Total input value of the transaction
      - name: output_value
        description: Total output value of the transaction
      - name: fee_per_byte
        description: Fee per byte in the transaction
      - name: is_coinbase
        description: Whether this is a coinbase transaction
        tests:
          - not_null
          - accepted_values:
              arguments:
                values: [true, false]
      - name: outputs
        description: Array of transaction outputs
      - name: output_address
        description: Address of the output (if applicable)
      - name: output_index
        description: Index of the output in the transaction
        tests:
          - not_null
      - name: output_required_signatures
        description: Required signatures for the output
      - name: output_script_asm
        description: Assembly script of the output
      - name: output_script_hex
        description: Hex script of the output
      - name: output_type
        description: Type of the output script
      - name: output_individual_value
        description: Value of the individual output in BTC